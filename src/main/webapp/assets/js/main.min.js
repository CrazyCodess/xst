function showLoginBox(){login_box_template='<div id="login-modal"><div style="width:100%;height:100%;position:fixed;z-index:2000;top:0;left:0;overflow:hidden" onclick="hideLoginBox()"><div style="height:100%;opacity:.4;background:#000"></div></div><div class="modal"><div class="modal-header clearfix"><h2 class="l">登录</h2><div class="register pull-right">      没有账号？<a href="${rootPath}/register"><strong>立即注册</strong></a></div></div><div class="modal-body"><form id="loginForm"><div class="control-group"><div class="user-id"><input type="text" placeholder="请输入邮箱/用户名" name="email" onfocus="loginInputFocus(this)" onblur="loginInputBlur(this)" /></div></div><div class="control-group"><div class="user-pw"><input type="password" name="password" placeholder="请输入密码" onfocus="loginInputFocus(this)" onblur="loginInputBlur(this)" /></div></div><div class="errorMsg" "=""></div><div class="control-group"><div class="r"><button type="button" onclick="userLogin()" class="btn btn-primary btn-login">登录</button></div></div></form></div></div></div>',$("body").append(login_box_template)}function loginInputFocus(e){$(e).parent().parent().addClass("active")}function loginInputBlur(e){$(e).parent().parent().removeClass("active")}function hideLoginBox(){$("#login-modal").remove()}function getFlashHtml(e,t){var i={};i.vars={},i.vars.http={},i.mode="vod",i.player="flash",i.id="VJTVPlayer",i.width="100%",i.height="100%",i.swfUrl="/xst/assets/player/VJTVPlayer.swf",i.vars.src=e,i.vars.speedurl="/assets/download/VJOcx3-ch-full-setup.exe",i.vars.point="/xmlurl/marks?id=213",cg.src=e;var s=/^\d{1,}$/;"undefined"!=typeof stime&&s.test(stime)&&(i.vars.startTime=stime);var o=new Player(i),n=o.showflashplayer();console.log(n),cg.player=n,console.log(t),t.replaceWith(n)}$("#loginButton").click(function(){showLoginBox()});var cg={};!function(e,t,i,s){"use strict";var o="treeview",n={};n.settings={injectStyle:!0,levels:2,categoryUrl:s,expandIcon:"fa fa-plus",collapseIcon:"fa fa-minus",emptyIcon:"fa",nodeIcon:"",selectedIcon:"",checkedIcon:"fa fa-check",uncheckedIcon:"fa fa-unchecked",color:s,backColor:s,borderColor:s,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:s,enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showCheckbox:!1,showTags:!1,multiSelect:!1,onNodeChecked:s,onNodeCollapsed:s,onNodeDisabled:s,onNodeEnabled:s,onNodeExpanded:s,onNodeSelected:s,onNodeUnchecked:s,onNodeUnselected:s,onSearchComplete:s,onSearchCleared:s},n.options={silent:!1,ignoreChildren:!1},n.searchOptions={ignoreCase:!0,exactMatch:!1,revealResults:!0};var r=function(t,i){return this.$element=e(t),this.elementId=t.id,this.styleId=this.elementId+"-style",this.init(i),{options:this.options,init:e.proxy(this.init,this),remove:e.proxy(this.remove,this),getNode:e.proxy(this.getNode,this),getParent:e.proxy(this.getParent,this),getSiblings:e.proxy(this.getSiblings,this),getSelected:e.proxy(this.getSelected,this),getUnselected:e.proxy(this.getUnselected,this),getExpanded:e.proxy(this.getExpanded,this),getCollapsed:e.proxy(this.getCollapsed,this),getChecked:e.proxy(this.getChecked,this),getUnchecked:e.proxy(this.getUnchecked,this),getDisabled:e.proxy(this.getDisabled,this),getEnabled:e.proxy(this.getEnabled,this),selectNode:e.proxy(this.selectNode,this),unselectNode:e.proxy(this.unselectNode,this),toggleNodeSelected:e.proxy(this.toggleNodeSelected,this),collapseAll:e.proxy(this.collapseAll,this),collapseNode:e.proxy(this.collapseNode,this),expandAll:e.proxy(this.expandAll,this),expandNode:e.proxy(this.expandNode,this),toggleNodeExpanded:e.proxy(this.toggleNodeExpanded,this),revealNode:e.proxy(this.revealNode,this),checkAll:e.proxy(this.checkAll,this),checkNode:e.proxy(this.checkNode,this),uncheckAll:e.proxy(this.uncheckAll,this),uncheckNode:e.proxy(this.uncheckNode,this),toggleNodeChecked:e.proxy(this.toggleNodeChecked,this),disableAll:e.proxy(this.disableAll,this),disableNode:e.proxy(this.disableNode,this),enableAll:e.proxy(this.enableAll,this),enableNode:e.proxy(this.enableNode,this),toggleNodeDisabled:e.proxy(this.toggleNodeDisabled,this),search:e.proxy(this.search,this),clearSearch:e.proxy(this.clearSearch,this),render:e.proxy(this.render,this)}};r.prototype.init=function(t){this.tree=[],this.nodes=[],t.data&&("string"==typeof t.data&&(t.data=e.parseJSON(t.data)),this.tree=e.extend(!0,[],t.data),delete t.data),this.options=e.extend({},n.settings,t),this.destroy(),this.subscribeEvents(),this.setInitialStates({nodes:this.tree},0),this.render()},r.prototype.remove=function(){this.destroy(),e.removeData(this,o),e("#"+this.styleId).remove()},r.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},r.prototype.unsubscribeEvents=function(){this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},r.prototype.subscribeEvents=function(){this.unsubscribeEvents(),this.$element.on("click",e.proxy(this.clickHandler,this)),"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked),"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed),"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled),"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled),"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded),"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",this.options.onNodeSelected),"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked),"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected),"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete),"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)},r.prototype.setInitialStates=function(t,i){if(t.nodes){i+=1;var s=t,o=this;e.each(t.nodes,function(e,t){t.nodeId=o.nodes.length,t.parentId=s.nodeId,t.hasOwnProperty("selectable")||(t.selectable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("expanded")||(!t.state.disabled&&i<o.options.levels&&t.nodes&&t.nodes.length>0?t.state.expanded=!0:t.state.expanded=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),o.nodes.push(t),t.nodes&&o.setInitialStates(t,i)})}},r.prototype.clickHandler=function(t){this.options.enableLinks||t.preventDefault();var i=e(t.target),s=this.findNode(i);if(s&&!s.state.disabled){var o=i.attr("class")?i.attr("class").split(" "):[];-1!==o.indexOf("expand-icon")?(this.toggleExpandedState(s,n.options),this.render()):-1!==o.indexOf("check-icon")?(this.toggleCheckedState(s,n.options),this.render()):(s.selectable?this.toggleSelectedState(s,n.options):(console.log(s),!s.nodes&&s.hasChild?this.addChild(s,s.id):this.toggleExpandedState(s,n.options)),this.render())}},r.prototype.addChild=function(t,i){var s=this;e.getJSON(this.options.categoryUrl+i,function(i){var o=new Array;e.each(i,function(e,t){e>0&&(t.existChild?o.push({id:t.id,text:t.name,hasChild:!0,selectable:!1}):o.push({id:t.id,text:t.name,hasChild:!1,selectable:!1,href:s.options.resourceUrl+t.id}))}),t.nodes=o,s.setInitialStates(t,s.options.level),s.toggleExpandedState(t,n.options),s.render()})},r.prototype.findNode=function(e){var t=e.closest("li.list-group-item").attr("data-nodeid"),i=this.nodes[t];return i||console.log("Error: node does not exist"),i},r.prototype.toggleExpandedState=function(e,t){e&&this.setExpandedState(e,!e.state.expanded,t)},r.prototype.setExpandedState=function(t,i,s){i!==t.state.expanded&&(i&&t.nodes?(t.state.expanded=!0,s.silent||this.$element.trigger("nodeExpanded",e.extend(!0,{},t))):i||(t.state.expanded=!1,s.silent||this.$element.trigger("nodeCollapsed",e.extend(!0,{},t)),t.nodes&&!s.ignoreChildren&&e.each(t.nodes,e.proxy(function(e,t){this.setExpandedState(t,!1,s)},this))))},r.prototype.toggleSelectedState=function(e,t){e&&this.setSelectedState(e,!e.state.selected,t)},r.prototype.setSelectedState=function(t,i,s){i!==t.state.selected&&(i?(this.options.multiSelect||e.each(this.findNodes("true","g","state.selected"),e.proxy(function(e,t){this.setSelectedState(t,!1,s)},this)),t.state.selected=!0,s.silent||this.$element.trigger("nodeSelected",e.extend(!0,{},t))):(t.state.selected=!1,s.silent||this.$element.trigger("nodeUnselected",e.extend(!0,{},t))))},r.prototype.toggleCheckedState=function(e,t){e&&this.setCheckedState(e,!e.state.checked,t)},r.prototype.setCheckedState=function(t,i,s){i!==t.state.checked&&(i?(t.state.checked=!0,s.silent||this.$element.trigger("nodeChecked",e.extend(!0,{},t))):(t.state.checked=!1,s.silent||this.$element.trigger("nodeUnchecked",e.extend(!0,{},t))))},r.prototype.setDisabledState=function(t,i,s){i!==t.state.disabled&&(i?(t.state.disabled=!0,this.setExpandedState(t,!1,s),this.setSelectedState(t,!1,s),this.setCheckedState(t,!1,s),s.silent||this.$element.trigger("nodeDisabled",e.extend(!0,{},t))):(t.state.disabled=!1,s.silent||this.$element.trigger("nodeEnabled",e.extend(!0,{},t))))},r.prototype.render=function(){this.initialized||(this.$element.addClass(o),this.$wrapper=e(this.template.list),this.injectStyle(),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.buildTree(this.tree,0)},r.prototype.buildTree=function(t,i){if(t){i+=1;var s=this;e.each(t,function(t,o){for(var n=e(s.template.item).addClass("node-"+s.elementId).addClass(o.state.checked?"node-checked":"").addClass(o.state.disabled?"node-disabled":"").addClass(o.state.selected?"node-selected":"").addClass(o.searchResult?"search-result":"").attr("data-nodeid",o.nodeId).attr("style",s.buildStyleOverride(o)),r=0;i-1>r;r++)n.append(s.template.indent);var d=[];if(o.nodes?(d.push("expand-icon"),o.state.expanded?d.push(s.options.collapseIcon):d.push(s.options.expandIcon)):d.push(s.options.emptyIcon),n.append(e(s.template.icon).addClass(d.join(" "))),s.options.showIcon){var d=["node-icon"];d.push(o.icon||s.options.nodeIcon),o.state.selected&&(d.pop(),d.push(o.selectedIcon||s.options.selectedIcon||o.icon||s.options.nodeIcon)),n.append(e(s.template.icon).addClass(d.join(" ")))}if(s.options.showCheckbox){var d=["check-icon"];o.state.checked?d.push(s.options.checkedIcon):d.push(s.options.uncheckedIcon),n.append(e(s.template.icon).addClass(d.join(" ")))}return s.options.enableLinks?n.append(e(s.template.link).attr("href",o.href).append(o.text)):n.append(o.text),s.options.showTags&&o.tags&&e.each(o.tags,function(t,i){n.append(e(s.template.badge).append(i))}),s.$wrapper.append(n),o.nodes&&o.state.expanded&&!o.state.disabled?s.buildTree(o.nodes,i):void 0})}},r.prototype.buildStyleOverride=function(e){if(e.state.disabled)return"";var t=e.color,i=e.backColor;return this.options.highlightSelected&&e.state.selected&&(this.options.selectedColor&&(t=this.options.selectedColor),this.options.selectedBackColor&&(i=this.options.selectedBackColor)),this.options.highlightSearchResults&&e.searchResult&&!e.state.disabled&&(this.options.searchResultColor&&(t=this.options.searchResultColor),this.options.searchResultBackColor&&(i=this.options.searchResultBackColor)),"color:"+t+";background-color:"+i+";"},r.prototype.injectStyle=function(){this.options.injectStyle&&!i.getElementById(this.styleId)&&e('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")},r.prototype.buildStyle=function(){var e=".node-"+this.elementId+"{";return this.options.color&&(e+="color:"+this.options.color+";"),this.options.backColor&&(e+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(e+="border:1px solid "+this.options.borderColor+";"):e+="border:none;",e+="}",this.options.onhoverColor&&(e+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.onhoverColor+";}"),this.css+e},r.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'},r.prototype.css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}",r.prototype.getNode=function(e){return this.nodes[e]},r.prototype.getParent=function(e){var t=this.identifyNode(e);return this.nodes[t.parentId]},r.prototype.getSiblings=function(e){var t=this.identifyNode(e),i=this.getParent(t),s=i?i.nodes:this.tree;return s.filter(function(e){return e.nodeId!==t.nodeId})},r.prototype.getSelected=function(){return this.findNodes("true","g","state.selected")},r.prototype.getUnselected=function(){return this.findNodes("false","g","state.selected")},r.prototype.getExpanded=function(){return this.findNodes("true","g","state.expanded")},r.prototype.getCollapsed=function(){return this.findNodes("false","g","state.expanded")},r.prototype.getChecked=function(){return this.findNodes("true","g","state.checked")},r.prototype.getUnchecked=function(){return this.findNodes("false","g","state.checked")},r.prototype.getDisabled=function(){return this.findNodes("true","g","state.disabled")},r.prototype.getEnabled=function(){return this.findNodes("false","g","state.disabled")},r.prototype.selectNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setSelectedState(e,!0,t)},this)),this.render()},r.prototype.unselectNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setSelectedState(e,!1,t)},this)),this.render()},r.prototype.toggleNodeSelected=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.toggleSelectedState(e,t)},this)),this.render()},r.prototype.collapseAll=function(t){var i=this.findNodes("true","g","state.expanded");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},r.prototype.collapseNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setExpandedState(e,!1,t)},this)),this.render()},r.prototype.expandAll=function(t){if(t=e.extend({},n.options,t),t&&t.levels)this.expandLevels(this.tree,t.levels,t);else{var i=this.findNodes("false","g","state.expanded");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setExpandedState(e,!0,t)},this))}this.render()},r.prototype.expandNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setExpandedState(e,!0,t),e.nodes&&t&&t.levels&&this.expandLevels(e.nodes,t.levels-1,t)},this)),this.render()},r.prototype.expandLevels=function(t,i,s){s=e.extend({},n.options,s),e.each(t,e.proxy(function(e,t){this.setExpandedState(t,i>0?!0:!1,s),t.nodes&&this.expandLevels(t.nodes,i-1,s)},this))},r.prototype.revealNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){for(var i=this.getParent(e);i;)this.setExpandedState(i,!0,t),i=this.getParent(i)},this)),this.render()},r.prototype.toggleNodeExpanded=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.toggleExpandedState(e,t)},this)),this.render()},r.prototype.checkAll=function(t){var i=this.findNodes("false","g","state.checked");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},r.prototype.checkNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setCheckedState(e,!0,t)},this)),this.render()},r.prototype.uncheckAll=function(t){var i=this.findNodes("true","g","state.checked");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},r.prototype.uncheckNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setCheckedState(e,!1,t)},this)),this.render()},r.prototype.toggleNodeChecked=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.toggleCheckedState(e,t)},this)),this.render()},r.prototype.disableAll=function(t){var i=this.findNodes("false","g","state.disabled");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},r.prototype.disableNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setDisabledState(e,!0,t)},this)),this.render()},r.prototype.enableAll=function(t){var i=this.findNodes("true","g","state.disabled");this.forEachIdentifier(i,t,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},r.prototype.enableNode=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setDisabledState(e,!1,t)},this)),this.render()},r.prototype.toggleNodeDisabled=function(t,i){this.forEachIdentifier(t,i,e.proxy(function(e,t){this.setDisabledState(e,!e.state.disabled,t)},this)),this.render()},r.prototype.forEachIdentifier=function(t,i,s){i=e.extend({},n.options,i),t instanceof Array||(t=[t]),e.each(t,e.proxy(function(e,t){s(this.identifyNode(t),i)},this))},r.prototype.identifyNode=function(e){return"number"==typeof e?this.nodes[e]:e},r.prototype.search=function(t,i){i=e.extend({},n.searchOptions,i),this.clearSearch({render:!1});var s=[];if(t&&t.length>0){i.exactMatch&&(t="^"+t+"$");var o="g";i.ignoreCase&&(o+="i"),s=this.findNodes(t,o),e.each(s,function(e,t){t.searchResult=!0})}return i.revealResults?this.revealNode(s):this.render(),this.$element.trigger("searchComplete",e.extend(!0,{},s)),s},r.prototype.clearSearch=function(t){t=e.extend({},{render:!0},t);var i=e.each(this.findNodes("true","g","searchResult"),function(e,t){t.searchResult=!1});t.render&&this.render(),this.$element.trigger("searchCleared",e.extend(!0,{},i))},r.prototype.findNodes=function(t,i,s){i=i||"g",s=s||"text";var o=this;return e.grep(this.nodes,function(e){var n=o.getNodeValue(e,s);return"string"==typeof n?n.match(new RegExp(t,i)):void 0})},r.prototype.getNodeValue=function(e,t){var i=t.indexOf(".");if(i>0){var o=e[t.substring(0,i)],n=t.substring(i+1,t.length);return this.getNodeValue(o,n)}return e.hasOwnProperty(t)?e[t].toString():s};var d=function(e){t.console&&t.console.error(e)};e.fn[o]=function(t,i){var s;return this.each(function(){var n=e.data(this,o);"string"==typeof t?n?e.isFunction(n[t])&&"_"!==t.charAt(0)?(i instanceof Array||(i=[i]),s=n[t].apply(n,i)):d("No such method : "+t):d("Not initialized, can not call method : "+t):"boolean"==typeof t?s=n:e.data(this,o,new r(this,e.extend(!0,{},t)))}),s||this}}(jQuery,window,document),function(e,t){if(!e)return t;var i=function(){this.el=t,this.items=t,this.sizes=[],this.max=[0,0],this.current=0,this.interval=t,this.opts={speed:500,delay:3e3,complete:t,keys:!t,dots:t,fluid:t};var i=this;this.init=function(t,i){return this.el=t,this.ul=t.children("ul"),this.max=[t.outerWidth(),t.outerHeight()],this.items=this.ul.children("li").each(this.calculate),this.opts=e.extend(this.opts,i),this.setup(),this},this.calculate=function(t){var s=e(this),o=s.outerWidth(),n=s.outerHeight();i.sizes[t]=[o,n],o>i.max[0]&&(i.max[0]=o),n>i.max[1]&&(i.max[1]=n)},this.setup=function(){if(this.el.css({overflow:"hidden",width:i.max[0],height:this.items.first().outerHeight()}),this.ul.css({width:100*this.items.length+"%",position:"relative"}),this.items.css("width",100/this.items.length+"%"),this.opts.delay!==t&&(this.start(),this.el.hover(this.stop,this.start)),this.opts.keys&&e(document).keydown(this.keys),this.opts.dots&&this.dots(),this.opts.fluid){var s=function(){i.el.css("width",Math.min(Math.round(i.el.outerWidth()/i.el.parent().outerWidth()*100),100)+"%")};s(),e(window).resize(s)}this.opts.arrows&&this.el.parent().append('<p class="arrows"><span class="prev">鈫�</span><span class="next">鈫�</span></p>').find(".arrows span").click(function(){e.isFunction(i[this.className])&&i[this.className]()}),e.event.swipe&&this.el.on("swipeleft",i.prev).on("swiperight",i.next)},this.move=function(t,s){this.items.eq(t).length||(t=0),0>t&&(t=this.items.length-1);var o=this.items.eq(t),n={height:o.outerHeight()},r=s?5:this.opts.speed;this.ul.is(":animated")||(i.el.find(".dot:eq("+t+")").addClass("active").siblings().removeClass("active"),this.el.animate(n,r)&&this.ul.animate(e.extend({left:"-"+t+"00%"},n),r,function(o){i.current=t,e.isFunction(i.opts.complete)&&!s&&i.opts.complete(i.el)}))},this.start=function(){i.interval=setInterval(function(){i.move(i.current+1)},i.opts.delay)},this.stop=function(){return i.interval=clearInterval(i.interval),i},this.keys=function(t){var s=t.which,o={37:i.prev,39:i.next,27:i.stop};e.isFunction(o[s])&&o[s]()},this.next=function(){return i.stop().move(i.current+1)},this.prev=function(){return i.stop().move(i.current-1)},this.dots=function(){var t='<ol class="dots">';e.each(this.items,function(e){t+='<li class="dot'+(1>e?" active":"")+'">'+(e+1)+"</li>"}),t+="</ol>",this.el.addClass("has-dots").append(t).find(".dot").click(function(){i.move(e(this).index())})}};e.fn.unslider=function(t){var s=this.length;return this.each(function(o){var n=e(this),r=(new i).init(n,t);n.data("unslider"+(s>1?"-"+(o+1):""),r)})}}(window.jQuery,!1);var browser={versions:function(){for(var e=navigator.userAgent,t=(navigator.appVersion,new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","Mobile")),i=!1,s=0;s<t.length;s++)if(-1!=e.indexOf(t[s])){i=!0;break}return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:i,ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),html5:"undefined"!=typeof Worker||!!document.createElement("video").canPlayType}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},Player=function(e){this.id=e.id||"VJTVPlayer",this.width=e.width||"100%",this.height=e.height||"100%",this.swfUrl=e.swfUrl||"VJTVPlayer.swf",this.flurl=e.vars||{},this.codebase=e.codebase||"",this.mode=e.mode||"vod",this.player=e.player||"auto",this.mime=e.mime||"flv",this.generateflashobj=function(e,t,i){var s="";s+="<object ";for(var o in e)s+=o+'="'+e[o]+'" ';s+=">";for(var o in t)s+='<param name="'+o+'" value="'+t[o]+'" /> ';return s+="</object>"},this.generatep2pobj=function(e,t){var i="";i+="<object ";for(var s in e)i+=s+'="'+e[s]+'" ';i+=">";for(var s in t)i+='<param name="'+s+'" value="'+t[s]+'" /> ';return i+="</object>"},this.generatehtml5obj=function(e,t){var i="";i+="<video ";for(var s in e)i+=s+'="'+e[s]+'" ';i+=">";for(var s in t)i+='<source type="'+s+'" src="'+t[s]+'" /> ';return i+="</video>"},this.showflashplayer=function(){var e=new Object,t=new Object,i=new Object;e.width=this.width,e.height=this.height,e.id=this.id,browser.versions.trident&&(e.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",t.movie=this.swfUrl,i.src=this.swfUrl),e.type="application/x-shockwave-flash",e.data=this.swfUrl,t.allowScriptAccess="always",t.allowFullScreen="true",t.quality="high",t.devicefont="false",t.play="true",t.loop="true",t.wmode="window",t.scale="showall",i.quality="high",i.allowScriptAccess="always",i.allowFullScreen="true",i.devicefont="false",i.play="true",i.loop="true",i.wmode="window",i.scale="showall",i.type="application/x-shockwave-flash",i.pluginspage="http://www.macromedia.com/go/getflashplayer",i.width=this.width,i.height=this.height;var s;if(this.flurl&&"object"==typeof this.flurl)for(var o in this.flurl)"http"!==o&&("undefined"!=typeof s?s+="&"+o+"="+this.flurl[o]:s=o+"="+this.flurl[o]);return t.flashvars=s,i.flashvars=s,this.generateflashobj(e,t,i)},this.showp2player=function(){var e=new Object,t=new Object;if(e.classid="CLSID:174012D5-4141-44D6-8F44-729BB97C56EB",e.codebase=this.codebase,e.width=this.width,e.height=this.height,e.id=this.id,t.AutoPlay="true",t.PlayMode="full",this.flurl&&"object"==typeof this.flurl)for(var i in this.flurl)"http"!==i&&(t[i]=this.flurl[i]);return this.generatep2pobj(e,t)},this.showhtml5player=function(){var e=new Object,t=new Object;return e.width=this.width,e.height=this.height,e.id=this.id,e.controls="controls",e.preload="preload",e.autoplay="autoplay","live"===this.mode?e.src=this.flurl.http.live:(t["video/mp4"]=this.flurl.http.mp4,t["video/ogg"]=this.flurl.http.ogg,t["video/webm"]=this.flurl.http.webm),this.generatehtml5obj(e,t)},this.write=function(){var e=this.playertype();switch("html5"!==e&&("auto"!==this.player?e=this.player:"p2p"!==e&&""!==this.mime&&"flv"!==this.mime&&(e="p2p")),e){case"html5":browser.versions.html5?document.write(this.showhtml5player()):document.write("<font color='red'>您的浏览器不支持HTML5，无法播放视频!</font>");break;case"p2p":document.write(this.showp2player());break;case"flash":document.write(this.showflashplayer());break;default:document.write("error")}},this.playertype=function(){return browser.versions.mobile?"html5":browser.versions.trident&&this.activeExist("VJ.VodClient.3")?"p2p":"flash"},this.activeExist=function(e){try{var t;return t=new ActiveXObject(e),t?!0:!1}catch(i){return!1}}};